/* ------------------------------------------------------------------
   Custom styles loaded AFTER /css/tailwind-build.css
   - No Tailwind .container override (uses .app-container instead)
   - Taller, centered top nav (75px)
   - Inline SVGs normalized (match text or fixed sizes)
   - Timeline lines emanate from circle to inner card edges (pure CSS)
------------------------------------------------------------------- */

/* ========== Tokens ========== */
:root{
    --color-primary:#0066cc;
    --color-accent-blue:#1d4ed8;
    --color-accent-purple:#7e22ce;

    --bg-primary:#fff;
    --bg-secondary:#f5f5f7;
    --bg-nav:rgba(255,255,255,.95);
    --bg-card:#f9f9fb;

    --text-primary:#1d1d1f;
    --text-secondary:#515154;
    --text-tertiary:#86868b;
    --text-link:var(--color-primary);

    --border-primary:rgba(0,0,0,.1);
    --border-secondary:rgba(0,0,0,.05);

    --shadow-nav:0 2px 8px rgba(0,0,0,.08);
    --shadow-card:0 8px 32px rgba(0,0,0,.1);

    --container-width:960px;
    --nav-height:75px; /* +10px */
    --card-radius:14px;
    --transition:.3s ease;

    --space-1:.25rem;
    --space-2:.5rem;
    --space-3:.75rem;
    --space-4:1rem;
    --space-6:1.5rem;
    --space-10:2.5rem;

    /* Timeline */
    --timeline-gap:2rem;
    --marker-size:44px;
    --marker-radius:22px;
    --line-thickness:2px;

    /* Breakpoints */
    --bp-md:768px;
    --bp-lg:900px;
}

[data-theme="dark"]{
    --bg-primary:#000;
    --bg-secondary:#161617;
    --bg-nav:rgba(22,22,23,.95);
    --bg-card:rgba(255,255,255,.03);

    --text-primary:#f5f5f7;
    --text-secondary:#a1a1a6;
    --text-tertiary:#6e6e73;
    --text-link:#2997ff;

    --border-primary:rgba(255,255,255,.1);
    --border-secondary:rgba(255,255,255,.05);

    --shadow-nav:0 2px 8px rgba(0,0,0,.3);
    --shadow-card:0 8px 32px rgba(0,0,0,.3);
}
[data-theme="dark"] .timeline-meta.resident{color:#60a5fa;}
[data-theme="dark"] .timeline-meta.faculty{color:#a78bfa;}

/* ========== Base & helpers ========== */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%;}
body{
    font-family:system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
    font-size:16px;line-height:1.6;color:var(--text-primary);background:var(--bg-primary);
    transition:background-color var(--transition),color var(--transition);
}
.app-container{max-width:var(--container-width);margin-inline:auto;padding-inline:22px;}

.visually-hidden{
    position:absolute !important;width:1px !important;height:1px !important;
    padding:0 !important;margin:-1px !important;overflow:hidden !important;
    clip:rect(0,0,0,0) !important;white-space:nowrap !important;border:0 !important;
}
.mt-nav{margin-top:var(--nav-height);}
.pb-4{padding-bottom:var(--space-4);}

/* ========== Type & links ========== */
h1,h2,h3{font-weight:600;line-height:1.2;color:var(--text-primary);}
h1{font-size:clamp(2rem,5vw,3rem);margin-bottom:1.25rem;}
h2{font-size:clamp(1.5rem,4vw,2rem);margin:var(--space-6) 0 var(--space-4);}
h3{font-size:1.25rem;margin-bottom:var(--space-2);}
p,li{color:var(--text-secondary);}
p{margin-bottom:1.25rem;font-size:1.1rem;}
a{color:var(--text-link);text-decoration:none;transition:opacity var(--transition);}
a:hover{opacity:.85;text-decoration:underline;}
a:focus-visible{outline:2px solid var(--text-link);outline-offset:2px;border-radius:2px;}

/* ========== Header & nav ========== */
.nav-header{
    position:fixed;inset:0 0 auto 0;height:var(--nav-height);z-index:1000;
    background:var(--bg-nav);border-bottom:1px solid var(--border-primary);
    backdrop-filter:saturate(180%) blur(20px);-webkit-backdrop-filter:saturate(180%) blur(20px);
    transition:box-shadow var(--transition);
}
.nav-header .app-container{
    display:flex;align-items:center;justify-content:space-between;min-height:var(--nav-height);
}
.nav-brand{
    display:flex;align-items:center;height:var(--nav-height);
}
.nav-header.scrolled{box-shadow:var(--shadow-nav);}

.brand-logo{
    height:75px;
    width:auto;
    object-fit:contain;
    vertical-align:middle;
    display:block;
}
@media (max-width:768px){.brand-logo{height:60px;}}

.nav-links{list-style:none;display:flex;gap:1rem;align-items:center;flex-wrap:nowrap;}
.nav-link{
    position:relative;padding-block:var(--space-1);color:var(--text-secondary);font-size:.875rem;
    transition:color var(--transition);
}
.nav-link:hover,.nav-link:focus-visible,.nav-link[aria-current="true"]{color:var(--text-link);text-decoration:none;}
.nav-link[aria-current="true"]::after{
    content:"";position:absolute;bottom:-4px;
    inset-inline:0;height:2px;background:var(--text-link);
}

/* Buttons: unified + variants */
.btn{
    display:inline-flex;align-items:center;gap:.5rem;
    padding:.4375rem .875rem;font-size:.875rem;font-weight:500;line-height:1;
    border:1px solid var(--border-primary);border-radius:6px;background:transparent;
    cursor:pointer;transition:transform var(--transition),background-color var(--transition),color var(--transition);
    white-space:nowrap;flex-shrink:0;
}
.btn:hover,.btn:focus-visible{transform:translateY(-1px);text-decoration:none;}
.btn--primary{color:#fff;background:var(--text-link);border-color:transparent;}
.btn--primary:hover,.btn--primary:focus-visible{background:#0b61bd;}
.btn--muted{color:#fff;background:#9ca3af;border-color:transparent;}
.btn--muted:hover,.btn--muted:focus-visible{background:#6b7280;}
.btn-print-section{
    display:inline-flex;align-items:center;justify-content:center;
    padding:0.25rem;margin-left:0.75rem;
    background:transparent;color:var(--text-secondary);border:none;
    cursor:pointer;transition:all var(--transition);vertical-align:middle;
}
.btn-print-section:hover,.btn-print-section:focus-visible{
    color:var(--text-primary);transform:scale(1.1);
}
.btn-print-section svg{
    width:18px !important;height:18px !important;
}
.theme-toggle{
    display:inline-flex;align-items:center;gap:.375rem;
    padding:.375rem .75rem;border-radius:6px;
    font-size:.875rem;cursor:pointer;border:1px solid var(--border-primary);
    background:transparent;transition:all var(--transition);
    white-space:nowrap;flex-shrink:0;
}
/* Light mode: show dark button with "Dark" text */
.theme-toggle{
    background:var(--text-primary);
    color:var(--bg-primary);
    border-color:var(--text-primary);
}
.theme-toggle:hover,.theme-toggle:focus-visible{
    background:var(--text-secondary);
    color:var(--bg-primary);
}
/* Dark mode: show light button with "Light" text */
[data-theme="dark"] .theme-toggle{
    background:var(--bg-primary);
    color:var(--text-primary);
    border-color:var(--bg-primary);
}
[data-theme="dark"] .theme-toggle:hover,
[data-theme="dark"] .theme-toggle:focus-visible{
    background:var(--bg-secondary);
    color:var(--text-primary);
}
.nav-icon-btn{display:grid;place-items:center;width:40px;height:40px;padding:0;border:1px solid var(--border-primary);border-radius:6px;background:transparent;}
/* Mobile theme toggle styling */
.mobile-theme{
    background:var(--text-primary);
    color:var(--bg-primary);
    border-color:var(--text-primary);
}
.mobile-theme:hover,.mobile-theme:focus-visible{
    background:var(--text-secondary);
    color:var(--bg-primary);
}
[data-theme="dark"] .mobile-theme{
    background:var(--bg-primary);
    color:var(--text-primary);
    border-color:var(--bg-primary);
}
[data-theme="dark"] .mobile-theme:hover,
[data-theme="dark"] .mobile-theme:focus-visible{
    background:var(--bg-secondary);
    color:var(--text-primary);
}

/* Icon sizing */
.inline-icon{width:1em;height:1em;display:inline-block;vertical-align:-0.125em;flex-shrink:0;}
.list-icon,.card-icon{display:inline-block;width:20px;height:20px;flex-shrink:0;}
.card-icon{width:24px;height:24px;}
.list-icon svg,.card-icon svg{width:100%;height:100%;display:block;}
.nav-header .theme-toggle svg,.nav-header .nav-icon-btn svg,.btn-print-page svg{width:16px !important;height:16px !important;}
/* Hide theme text labels - show only icons */
.theme-label{display:none !important;}

/* Theme toggle icon colors */
.theme-toggle{
    background:#9ca3af !important;
    border:none !important;
    padding:.4375rem .4375rem !important;
    border-radius:6px !important;
    height:auto !important;
    display:inline-flex !important;
    align-items:center !important;
    justify-content:center !important;
}
.theme-toggle:hover,.theme-toggle:focus-visible{
    background:#6b7280 !important;
}
[data-theme="dark"] .theme-toggle{
    background:#9ca3af !important;
}
[data-theme="dark"] .theme-toggle:hover,
[data-theme="dark"] .theme-toggle:focus-visible{
    background:#6b7280 !important;
}

/* Light mode: white moon icon on gray background */
.theme-toggle .moon-icon{
    color:#ffffff;
    fill:#ffffff;
    stroke:#ffffff;
}
/* Dark mode: yellow sun icon on gray background */
[data-theme="dark"] .theme-toggle .sun-icon{
    color:#fbbf24;
    fill:#fbbf24;
    stroke:#fbbf24;
}

/* Mobile theme toggle */
.mobile-theme{
    background:#9ca3af !important;
    border:none !important;
    padding:.375rem !important;
    border-radius:6px !important;
}
.mobile-theme:hover,.mobile-theme:focus-visible{
    background:#6b7280 !important;
}
[data-theme="dark"] .mobile-theme{
    background:#9ca3af !important;
}
[data-theme="dark"] .mobile-theme:hover,
[data-theme="dark"] .mobile-theme:focus-visible{
    background:#6b7280 !important;
}
.mobile-theme .moon-icon{
    color:#ffffff;
    fill:#ffffff;
    stroke:#ffffff;
}
[data-theme="dark"] .mobile-theme .sun-icon{
    color:#fbbf24;
    fill:#fbbf24;
    stroke:#fbbf24;
}
.badge-logo{display:inline-block;width:calc(1.2em + 2px);height:calc(1.2em + 2px);vertical-align:middle;}
.badge-logo svg{width:100% !important;height:100% !important;display:block;}
svg{max-inline-size:100%;height:auto;}

/* Lists */
.icon-list{list-style:none;margin:1rem 0;padding:0;}
.icon-list li{display:flex;align-items:flex-start;gap:.5rem;margin-bottom:.75rem;line-height:1.5;}
.icon-list li:last-child{margin-bottom:0;}

/* Mobile nav */
.mobile-nav-controls,.mobile-menu{display:none;}
.hamburger{
    display:none;width:40px;height:40px;background:transparent;border:1px solid var(--border-primary);
    border-radius:6px;cursor:pointer;position:relative;padding:0;z-index:1100;
}
.hamburger-line{position:absolute;left:50%;transform:translateX(-50%);width:22px;height:2px;background:var(--text-primary);transition:all .3s;}
.hamburger-line:nth-child(1){top:10px;}
.hamburger-line:nth-child(2){top:50%;transform:translate(-50%,-50%);}
.hamburger-line:nth-child(3){bottom:10px;}
.hamburger.active .hamburger-line:nth-child(1){top:50%;transform:translate(-50%,-50%) rotate(45deg);}
.hamburger.active .hamburger-line:nth-child(2){opacity:0;transform:translate(-50%,-50%) scale(0);}
.hamburger.active .hamburger-line:nth-child(3){bottom:auto;top:50%;transform:translate(-50%,-50%) rotate(-45deg);}
.mobile-menu{
    position:fixed;top:var(--nav-height);inset-inline:0;background:var(--bg-primary);
    border-bottom:1px solid var(--border-primary);z-index:999;box-shadow:0 4px 6px rgba(0,0,0,.1);
}
.mobile-menu.active{display:block;}
.mobile-menu-list{list-style:none;padding-block:var(--space-2);}
.mobile-menu-link{
    display:block;padding:var(--space-4) var(--space-6);color:var(--text-primary);text-decoration:none;font-size:1rem;
    border-bottom:1px solid var(--border-secondary);transition:background-color var(--transition);
}
.mobile-menu-link:last-child{border-bottom:0;}
.mobile-menu-link:hover,.mobile-menu-link:focus-visible{background:var(--bg-secondary);}
.mobile-menu-link.active{color:var(--text-link);background:var(--bg-secondary);font-weight:600;}

/* Layout blocks */
main{min-height:calc(100vh - var(--nav-height));}
/* Section spacing: consistent but no double gaps */
section{
    padding-top:2rem;
    padding-bottom:1.5rem; /* tighten bottom */
}
/* First section under nav gets extra top padding */
section:first-of-type{
    padding-top:5rem;
}
/* Remove margin-top from h2s when they're first child in section */
section > .app-container > .section-header h2:first-child{
    margin-top:0;
}
.section-header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:var(--space-2);margin-bottom:1rem;}
.meta-info{display:flex;gap:1rem;margin-bottom:1.25rem;color:var(--text-tertiary);font-size:.875rem;}
.meta-info span:not(:last-child)::after{content:" â€¢ ";margin-left:1rem;}
.subtitle{font-size:1.2em;color:var(--text-primary);margin-bottom:1.25rem;}
.divider{width:100%;height:2px;margin-top:var(--space-10);background:var(--text-tertiary);opacity:.3;}

/* Tables */
.table-wrapper{overflow-x:auto;margin:2rem 0;border:1px solid var(--border-secondary);border-radius:8px;background:var(--bg-secondary);}
table{width:100%;border-collapse:collapse;}
th,td{padding:1rem 1.25rem;text-align:left;}
th{
    font-weight:700;font-size:.9375rem;color:var(--text-primary);
    text-transform:uppercase;letter-spacing:.5px;background:var(--bg-secondary);
    border-bottom:2px solid var(--text-tertiary);
}
td{font-size:1rem;color:var(--text-secondary);border-top:1px solid var(--border-primary);}
tbody tr{transition:background-color var(--transition);}
tbody tr:hover{background:var(--bg-secondary);}

/* Cards */
.cards-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin:var(--space-10) 0;}
.card{
    display:block;height:100%;padding:1.25rem;background:var(--bg-card);
    border:1px solid var(--border-secondary);border-radius:12px;
    transition:transform var(--transition),box-shadow var(--transition);
}
.card:hover{transform:translateY(-2px);box-shadow:var(--shadow-card);}
.card h3{margin-bottom:.75rem;font-size:1rem;}
.card p{margin-bottom:1.125rem;font-size:.95rem;line-height:1.5;}

/* Timeline */
.timeline{position:relative;margin:3.125rem 0;max-width:var(--container-width);}
.timeline-centerline{position:absolute;inset:0 auto 0 50%;width:1px;transform:translateX(-50%);background:var(--border-primary);}
.timeline-rows{position:relative;display:grid;row-gap:2rem;}
.timeline-row{
    position:relative;display:grid;grid-template-columns:1fr 1fr;column-gap:var(--timeline-gap);
    align-items:stretch;min-height:180px;
}
.timeline-marker{
    position:absolute;left:50%;top:50%;width:var(--marker-size);height:var(--marker-size);
    transform:translate(-50%,-50%);border-radius:50%;background:var(--bg-primary);
    border:2px solid #60a5fa;display:grid;place-items:center;font-weight:700;color:var(--color-accent-blue);
    animation:pulse 1.6s ease-out infinite;z-index:1;
}

.timeline-card{
    display:block;height:100%;padding:1.25rem;background:var(--bg-card);
    border:1px solid var(--border-secondary);border-radius:var(--card-radius);
    box-shadow:0 1px 2px rgba(2,6,23,.04);transition:transform .18s ease,box-shadow .18s ease;
    animation:slideIn .6s ease-out both;
}
.timeline-card:hover{transform:translateY(-1px) scale(1.01);box-shadow:var(--shadow-card);}
.timeline-meta{margin-bottom:.25rem;font-size:.8rem;font-weight:700;letter-spacing:.02em;}
.timeline-meta.resident{color:var(--color-accent-blue);}
.timeline-meta.faculty{color:var(--color-accent-purple);}
.timeline-title{margin-top:.125rem;font-size:1rem;color:var(--text-primary);}
.timeline-card ul{font-size:.9rem;color:var(--text-secondary);}

@keyframes slideIn{from{opacity:0;transform:translateY(16px);}to{opacity:1;transform:translateY(0);}}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(59,130,246,.35);}70%{box-shadow:0 0 0 14px rgba(0,0,0,0);}100%{box-shadow:0 0 0 0 rgba(0,0,0,0);}}

/* Footer */
footer{padding-block:var(--space-10);margin-top:3rem;border-top:1px solid var(--border-primary);background:var(--bg-secondary);}
.footer-content{text-align:center;color:var(--text-tertiary);font-size:.8rem;}

/* Responsive */
@media (max-width:var(--bp-lg)){
    .timeline-row{grid-template-columns:1fr;row-gap:4rem;min-height:0;}
    .timeline-centerline{display:none;}
    .timeline-marker{top:0;transform:translate(-50%,-50%);}
    .timeline-card{margin-top:2rem;}
}
@media (max-width:768px){
    .mobile-nav-controls{display:flex;}
    .hamburger{display:block;}
    .section-header h2,.section-header h3{flex:1 1 100%;}
    .table-wrapper{border-radius:0;}
    th,td{padding:.75rem 1rem;font-size:.9rem;}
    p,li{font-size:1rem;}
    /* Hide text labels on mobile for print and theme buttons */
    .print-label,.theme-label{display:none;}
    /* 2 cards per row on mobile - ensure they fit properly */
    .cards-grid{grid-template-columns:1fr 1fr !important;gap:.75rem !important;}
    .card{padding:1rem !important;font-size:.9rem;}
    .card h3{font-size:.95rem !important;}
    .card p{font-size:.85rem !important;margin-bottom:.75rem !important;}
}

/* Print (hide chrome; keep exact section markup) */
@media print{
    .nav-header,.mobile-nav-controls,.mobile-menu,.hamburger,.theme-toggle,.nav-icon-btn,.btn-print-page,.btn-print-section{
        display:none !important;
    }
    main{margin-top:0;}
    section{padding-block:0.5rem !important;page-break-inside:avoid;}
    p{margin-bottom:0.5rem !important;line-height:1.2 !important;}
    h1,h2,h3{margin:0.5rem 0 0.25rem 0 !important;line-height:1.1 !important;}
    ul,ol{margin:0.25rem 0 !important;}
    li{margin-bottom:0.125rem !important;}
    .timeline{transform:scale(.92);transform-origin:top center;}
    .timeline-rows{row-gap:.25rem !important;}
    .timeline-card{box-shadow:none !important;animation:none !important;padding:.5rem !important;margin-bottom:0.25rem !important;}
    .table-wrapper{margin:0.5rem 0 !important;}
    th,td{padding:0.25rem 0.5rem !important;}
    *{animation:none !important;transition:none !important;}
}